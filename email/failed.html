<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Email Confirmation Failed</title>
  <link rel="icon" href="MyLabsLogo.png" type="image/png"/>
  <style>
    body {
      margin: 0;
      background-color: #f8faf7;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen,
        Ubuntu, Cantarell, "Open Sans", "Helvetica Neue", sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100vh;
      color: #333;
      text-align: center;
      padding: 20px;
    }

    img {
      width: 120px;
      height: 120px;
      margin-bottom: 30px;
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 10px;
      color: #d32f2f;
    }

    p {
      font-size: 1.2rem;
      color: #d32f2f;
      font-weight: 500;
      max-width: 500px;
    }

    .ref-id {
      margin-top: 20px;
      font-weight: bold;
      color: #999;
    }
  </style>
<script src="https://rekietalabs.com/force-favicon.js"></script>
</head>
<body>
  <img src="email-failure.png" alt="Email Confirmation Failed" />
  <h1>Email Confirmation Failed</h1>
  <p id="message">An unknown error occurred.</p>
  <div class="ref-id" id="refid">REF ID: 765004</div>

  <script>
    const params = new URLSearchParams(window.location.search);
    const reason = params.get("reason") || "default";

    const errorMap = {
      "expired": {
        message: "The verification link has expired or is invalid.",
        ref: "765634"
      },
      "nomatch": {
        message: "The provided user ID does not match the email address.",
        ref: "765494"
      },
      "notfound": {
        message: "No account was found with the provided email address.",
        ref: "765284"
      },
      "already": {
        message: "This email address has already been verified.",
        ref: "765374"
      },
      "disabled": {
        message: "Email confirmation is currently disabled for this project.",
        ref: "765984"
      },
      "sendfail": {
        message: "The email service failed to send the confirmation message.",
        ref: "765224"
      },
      "supabasefail": {
        message: "An error occurred while updating your account information.",
        ref: "765314"
      },
      "default": {
        message: "An unexpected error occurred. Please try again later.",
        ref: "765004"
      }
    };

    const error = errorMap[reason] || errorMap["default"];
    document.getElementById("message").innerText = error.message;
    document.getElementById("refid").innerText = "REF ID: " + error.ref;
  </script>
</body>
</html>
